<app-header></app-header>

<div class="container-fluid">
    <h1 class="text-center text-danger mt-3">Delivery Details</h1>
    <div class="row">
        <div class="col-12 col-md-5 ">
            <img [src]="chekOutImage" alt="" class="img-fluid">
        </div>
        <div class="col-12 col-md-7  container mt-3 p-3">
            <div *ngIf="!proceedToPayStatus" class="d-flex justify-content-center align-items-center shadow  p-5 me-4 ">
                <form  action="" class="w-100" [formGroup]="checkOutForm">
                    <div class="form-floating mb-3 " >
                        <input formControlName="username" name="uname" type="text" class="form-control"  id="floatingInput1" placeholder="Username">
                        <label for="floatingInput1">Username</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input formControlName="flat" name="flat" type="text" class="form-control" id="floatingInput2" placeholder="Apartment/Flat No:">
                        <label for="floatingInput2">Apartment/Flat No:</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input formControlName="place" name="place" type="text" class="form-control" id="floatingInput3" placeholder="Place">
                        <label for="floatingInput3">Place</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input formControlName="pincode" name="pincode" type="number" class="form-control" id="floatingInput4" placeholder="Pincode">
                        <label for="floatingInput4">Pincode</label>
                    </div>
                    <div class="d-flex justify-content-between">
                        <button (click)="cancel()" class="btn btn-warning">Cancel</button>
                        <button type="submit" (click)="proceedToPay()" class="btn btn-success">Proceed to Pay</button>
                    </div>
                </form>
            </div>
            <div *ngIf="proceedToPayStatus" class="rounded shadow p-5">
                <div class="border rounded p-3">
                    <h3 class="mt-3 text-center">Confirm the Delivery Address</h3>
                    <div class="mt-5 ">
                        <h5 class="text-secondary">Address: <span class="text-primary ">{{checkOutForm.value.username}}</span></h5>
                        <h5 class="text-secondary">Apartment/Flat No: <span class="text-primary ">{{checkOutForm.value.flat}}</span></h5>
                        <h5 class="text-secondary">Place: <span class="text-primary ">{{checkOutForm.value.place}}</span></h5>
                        <h5 class="text-secondary">Pincode: <span class="text-primary ">{{checkOutForm.value.pincode}}</span></h5>
                        <h5 class="text-secondary">Total Amount: <span class="text-danger">${{grandTotal}}</span></h5>
                    </div>
                    <div *ngIf="!makePaymentStatus" class="d-flex justify-content-between mt-3">
                        <button (click)="back()" class="btn btn-warning">Back</button>
                        <button (click)="payment()" class="btn btn-success">Make the payment</button>
                    </div>
                    <div *ngIf="makePaymentStatus">
                        <ngx-paypal [config]="payPalConfig"></ngx-paypal>

                    </div>
                </div>
            </div>
        </div>
        
        
    </div>
</div>

